{"ast":null,"code":"// Utility function to check if an image URL is a placeholder\nexport function isPlaceholderUrl(url) {\n  if (!url || typeof url !== 'string') return true;\n  const urlLower = url.toLowerCase().trim();\n\n  // Check for empty or invalid URLs\n  if (urlLower === '' || urlLower === 'null' || urlLower === 'undefined') return true;\n  const placeholderPatterns = ['via.placeholder.com', 'via.placeholder', 'placeholder.com', 'placeholder', 'placehold.it', 'placehold.co', 'dummyimage.com', 'loremflickr.com', /^\\d+x\\d+/,\n  // Matches patterns like \"900x400\"\n  /^https?:\\/\\/\\d+x\\d+/,\n  // Matches \"http://900x400\"\n  /text=/i,\n  // Matches URLs with text= parameter (common in placeholders)\n  /via\\.placeholder/i // More specific check\n  ];\n\n  // Check for placeholder patterns\n  const isPlaceholder = placeholderPatterns.some(pattern => {\n    if (pattern instanceof RegExp) {\n      return pattern.test(url);\n    }\n    return urlLower.includes(pattern.toLowerCase());\n  });\n\n  // Additional check: if URL contains common placeholder indicators\n  if (urlLower.includes('placeholder') || urlLower.includes('dummy') || urlLower.includes('lorem')) {\n    return true;\n  }\n  return isPlaceholder;\n}\n\n// Get a safe image URL or return null if it's a placeholder\nexport function getSafeImageUrl(url) {\n  if (!url || isPlaceholderUrl(url)) {\n    return null;\n  }\n\n  // Additional validation: ensure it's a valid URL format\n  try {\n    // If it's a relative URL, it's probably fine\n    if (url.startsWith('/') || url.startsWith('./') || url.startsWith('../')) {\n      return url;\n    }\n\n    // Try to parse as URL to validate\n    new URL(url);\n    return url;\n  } catch (e) {\n    // If URL parsing fails and it's not a relative path, it might be invalid\n    if (!url.startsWith('/') && !url.startsWith('./') && !url.startsWith('../')) {\n      return null;\n    }\n    return url;\n  }\n}","map":{"version":3,"names":["isPlaceholderUrl","url","urlLower","toLowerCase","trim","placeholderPatterns","isPlaceholder","some","pattern","RegExp","test","includes","getSafeImageUrl","startsWith","URL","e"],"sources":["C:/Users/Saloni/Desktop/Anisha Projects/djseve_wp_project/frontend/src/utils/imageUtils.js"],"sourcesContent":["// Utility function to check if an image URL is a placeholder\r\nexport function isPlaceholderUrl(url) {\r\n  if (!url || typeof url !== 'string') return true;\r\n  \r\n  const urlLower = url.toLowerCase().trim();\r\n  \r\n  // Check for empty or invalid URLs\r\n  if (urlLower === '' || urlLower === 'null' || urlLower === 'undefined') return true;\r\n  \r\n  const placeholderPatterns = [\r\n    'via.placeholder.com',\r\n    'via.placeholder',\r\n    'placeholder.com',\r\n    'placeholder',\r\n    'placehold.it',\r\n    'placehold.co',\r\n    'dummyimage.com',\r\n    'loremflickr.com',\r\n    /^\\d+x\\d+/, // Matches patterns like \"900x400\"\r\n    /^https?:\\/\\/\\d+x\\d+/, // Matches \"http://900x400\"\r\n    /text=/i, // Matches URLs with text= parameter (common in placeholders)\r\n    /via\\.placeholder/i, // More specific check\r\n  ];\r\n  \r\n  // Check for placeholder patterns\r\n  const isPlaceholder = placeholderPatterns.some(pattern => {\r\n    if (pattern instanceof RegExp) {\r\n      return pattern.test(url);\r\n    }\r\n    return urlLower.includes(pattern.toLowerCase());\r\n  });\r\n  \r\n  // Additional check: if URL contains common placeholder indicators\r\n  if (urlLower.includes('placeholder') || urlLower.includes('dummy') || urlLower.includes('lorem')) {\r\n    return true;\r\n  }\r\n  \r\n  return isPlaceholder;\r\n}\r\n\r\n// Get a safe image URL or return null if it's a placeholder\r\nexport function getSafeImageUrl(url) {\r\n  if (!url || isPlaceholderUrl(url)) {\r\n    return null;\r\n  }\r\n  \r\n  // Additional validation: ensure it's a valid URL format\r\n  try {\r\n    // If it's a relative URL, it's probably fine\r\n    if (url.startsWith('/') || url.startsWith('./') || url.startsWith('../')) {\r\n      return url;\r\n    }\r\n    \r\n    // Try to parse as URL to validate\r\n    new URL(url);\r\n    return url;\r\n  } catch (e) {\r\n    // If URL parsing fails and it's not a relative path, it might be invalid\r\n    if (!url.startsWith('/') && !url.startsWith('./') && !url.startsWith('../')) {\r\n      return null;\r\n    }\r\n    return url;\r\n  }\r\n}\r\n\r\n"],"mappings":"AAAA;AACA,OAAO,SAASA,gBAAgBA,CAACC,GAAG,EAAE;EACpC,IAAI,CAACA,GAAG,IAAI,OAAOA,GAAG,KAAK,QAAQ,EAAE,OAAO,IAAI;EAEhD,MAAMC,QAAQ,GAAGD,GAAG,CAACE,WAAW,CAAC,CAAC,CAACC,IAAI,CAAC,CAAC;;EAEzC;EACA,IAAIF,QAAQ,KAAK,EAAE,IAAIA,QAAQ,KAAK,MAAM,IAAIA,QAAQ,KAAK,WAAW,EAAE,OAAO,IAAI;EAEnF,MAAMG,mBAAmB,GAAG,CAC1B,qBAAqB,EACrB,iBAAiB,EACjB,iBAAiB,EACjB,aAAa,EACb,cAAc,EACd,cAAc,EACd,gBAAgB,EAChB,iBAAiB,EACjB,UAAU;EAAE;EACZ,qBAAqB;EAAE;EACvB,QAAQ;EAAE;EACV,mBAAmB,CAAE;EAAA,CACtB;;EAED;EACA,MAAMC,aAAa,GAAGD,mBAAmB,CAACE,IAAI,CAACC,OAAO,IAAI;IACxD,IAAIA,OAAO,YAAYC,MAAM,EAAE;MAC7B,OAAOD,OAAO,CAACE,IAAI,CAACT,GAAG,CAAC;IAC1B;IACA,OAAOC,QAAQ,CAACS,QAAQ,CAACH,OAAO,CAACL,WAAW,CAAC,CAAC,CAAC;EACjD,CAAC,CAAC;;EAEF;EACA,IAAID,QAAQ,CAACS,QAAQ,CAAC,aAAa,CAAC,IAAIT,QAAQ,CAACS,QAAQ,CAAC,OAAO,CAAC,IAAIT,QAAQ,CAACS,QAAQ,CAAC,OAAO,CAAC,EAAE;IAChG,OAAO,IAAI;EACb;EAEA,OAAOL,aAAa;AACtB;;AAEA;AACA,OAAO,SAASM,eAAeA,CAACX,GAAG,EAAE;EACnC,IAAI,CAACA,GAAG,IAAID,gBAAgB,CAACC,GAAG,CAAC,EAAE;IACjC,OAAO,IAAI;EACb;;EAEA;EACA,IAAI;IACF;IACA,IAAIA,GAAG,CAACY,UAAU,CAAC,GAAG,CAAC,IAAIZ,GAAG,CAACY,UAAU,CAAC,IAAI,CAAC,IAAIZ,GAAG,CAACY,UAAU,CAAC,KAAK,CAAC,EAAE;MACxE,OAAOZ,GAAG;IACZ;;IAEA;IACA,IAAIa,GAAG,CAACb,GAAG,CAAC;IACZ,OAAOA,GAAG;EACZ,CAAC,CAAC,OAAOc,CAAC,EAAE;IACV;IACA,IAAI,CAACd,GAAG,CAACY,UAAU,CAAC,GAAG,CAAC,IAAI,CAACZ,GAAG,CAACY,UAAU,CAAC,IAAI,CAAC,IAAI,CAACZ,GAAG,CAACY,UAAU,CAAC,KAAK,CAAC,EAAE;MAC3E,OAAO,IAAI;IACb;IACA,OAAOZ,GAAG;EACZ;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}